!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.add=t():e.add=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";function r(e,t,n,r){return $.ajax({url:e,type:t,data:n,contentType:r&&void 0!==r.contentType?r.contentType:"application/json; charset=utf-8",dataType:r&&void 0!==r.dataType?r.dataType:"json",processData:!(!r||void 0===r.processData)&&r.processData,cache:!(!window||!window.BIMPLUS_SDK_ENABLE_CACHE),async:!0,xhr:function(){var e=$.ajaxSettings.xhr();return r&&void 0!==r.xhrUploadProgress&&e.upload.addEventListener("progress",r.xhrUploadProgress,!1),e},beforeSend:function(e){r&&r.token&&e.setRequestHeader("Authorization","BimPlus "+r.token),r&&r.eTag&&(e.setRequestHeader("Cache-Control","no-cache"),window&&!window.BIMPLUS_SDK_DISABLE_ETAG&&e.setRequestHeader("If-None-Match",r.eTag))},complete:function(e){if(window&&window.BIMPLUS_SDK_LOG_API_CALLS){e&&e.responseText&&e.responseText.length>0&&JSON.parse(e.responseText)}}})}function i(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+e[n]+"&");return t=t.slice(0,-1)}function s(e,t,n,r,i){i||(i={}),i.token||(i.token=t),i.queryParams||(i.queryParams={}),i.queryParams.chunkSize=n,i.queryParams.chunk=1;var s=$.Deferred(),o=[];return e.get(r,i).done(function(t,n,u){o.push(t);var a=0;if(200===u.status){var c=u.getResponseHeader("X-Total-Count");c&&(a=parseInt(c,10))}else 304===u.status&&u["Cached-X-Total-Count"]&&(a=u["Cached-X-Total-Count"]);for(var l=[],f=2;f<=a;f++){i.queryParams.chunk=f;var h=e.get(r,i).done(function(e){o.push(e)}).fail(function(e,t){s.reject(e,t)});l.push(h)}Promise.all(l).then(function(){s.resolve(o)})}).fail(function(e,t){s.reject(e,t)}),s.promise()}Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxRequest=r,t.createQueryString=i,t.chunkedGetRequest=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDBCache=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){var e=new i.default("IDBCache",{autoOpen:!1});this.isSupported=function(){var e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,t=window.IDBKeyRange||window.webkitIDBKeyRange,n=window.IDBCursor||window.webkitIDBCursor,r=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}(),i=function(){if(navigator.userAgent.match(/Safari/i)&&!1==!navigator.userAgent.match(/Chrome/i))return!1;var e=navigator.userAgent.toLowerCase();return e=e.substring(e.indexOf("version/")+8),e.substring(0,e.indexOf("."))}(),s=!1!==r&&r<11,o=!1!==i&&i<10,u=!!navigator.userAgent.match(/iPad|iPhone|iPod/i);return navigator.userAgent.match(/PhantomJS/i)?e&&t&&n:e&&t&&n&&!s&&!u&&!o},this.addResponse=function(t,n,r,i){return e.responseTable.put({etag:r,data:n,timestamp:$.now(),chunks:i?parseInt(i,10):null},t)},this.getResponse=function(t){return e.responseTable.get(t)},this.clear=function(){return e.responseTable.clear()},this.initDB=function(){return e.version(.1).stores({responseTable:""}),e.open()},this.deleteDB=function(){return e.delete()}};t.IDBCache=s},function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDBCache=t.createDefaultConfig=t.Api=void 0;var r=n(4),i=n(5),s=n(6),o=n(7),u=n(8),a=n(9),c=n(14),l=n(15),f=n(16),h=n(17),p=n(18),d=n(19),g=n(20),m=n(21),v=n(22),y=n(1),b=n(23),A=n(24),T=n(25),w=n(26),q=n(27),_=n(28),U=n(29),j=n(30),P=n(31),k=n(32),x=n(33),S=n(34),O=n(35),I=n(36),E=n(37),D=n(38),C=n(39),M=n(40),R=n(41),B=n(42),F=n(43),K=n(44),N=n(45),L=n(46),G=n(47),H=n(48),V=n(49),z=n(50),Q=n(51),W=n(52),J=n(53),$=n(54),X=function(e){var t=null;t=e||Y();var n=null,y=null,X=null;t.cache?(this.request=new a.CachedRequest,X=this.request.getCache(),!1===X.isSupported()&&(this.request=new r.AjaxRequest,X=null)):this.request=new r.AjaxRequest,this.setAccessToken=function(e){n=e,this.request.setAccessToken(e)},this.getAccessToken=function(){return n},this.setTeamSlug=function(e){y=e},this.getTeamSlug=function(){return y},this.getApiUrl=function(){return t.protocol+t.host+"/v2/"},this.getApiTeamUrl=function(){return this.getApiUrl()+y+"/"},this.getCache=function(){return X},this.authorize=new u.Authorize(this),this.user=new V.User(this),this.users=new z.Users(this),this.teams=new K.Teams(this),this.members=new w.Members(this),this.projects=new O.Projects(this),this.structures=new B.Structures(this),this.models=new _.Models(this),this.objects=new j.Objects(this),this.revisions=new I.Revisions(this),this.elementTypes=new h.ElementTypes(this),this.attachments=new s.Attachments(this),this.issues=new A.Issues(this),this.pins=new P.Pins(this),this.comments=new l.Comments(this),this.hyperlinks=new v.Hyperlinks(this),this.importService=new b.ImportService(this),this.slideshows=new R.Slideshows(this),this.slides=new M.Slides(this),this.clashDetection=new c.ClashDetection(this),this.rightsService=new E.RightsService(this),this.applicationSettings=new i.ApplicationSettings(this),this.exportService=new p.ExportService(this),this.locks=new T.Locks(this),this.share=new C.Share(this),this.messages=new q.Messages(this),this.objectFilters=new U.ObjectFilters(this),this.terms=new N.Terms(this),this.dataProtection=new L.DataProtection(this),this.imprints=new G.Imprints(this),this.projectActionsRights=new k.ProjectActionsRights(this),this.groupActionsRights=new x.GroupActionsRights(this),this.roles=new D.Roles(this),this.attributeTemplates=new o.AttributeTemplates(this),this.units=new H.Units(this),this.freeAttributes=new g.FreeAttributes(this),this.freeAttributeGroups=new d.FreeAttributeGroups(this),this.hiddenCalculation=new m.HiddenCalculation(this),this.projectAttributeTemplates=new S.ProjectAttributeTemplates(this),this.teamActionsRights=new F.TeamActionsRights(this),this.customTables=new f.CustomTables(this),this.userSettings=new Q.UserSettings(this),this.invitations=new W.Invitations(this),this.selections=new J.Selections(this),this.userGroups=new $.UserGroups(this)},Y=function(e){var t="api.bimplus.net";if(e)switch(e){case"prod":t="api.bimplus.net";break;case"dev":t="api-dev.bimplus.net";break;case"stage":t="api-stage.bimplus.net";break;default:t="api.bimplus.net"}return{protocol:"https://",host:t,cache:!1}};t.Api=X,t.createDefaultConfig=Y,t.IDBCache=y.IDBCache},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxRequest=void 0;var r=n(0),i=function(){var e=null;this.setAccessToken=function(t){e=t},this.get=function(t,n){return n||(n={}),n.token||(n.token=e),n.queryParams&&(t+=(0,r.createQueryString)(n.queryParams)),(0,r.ajaxRequest)(t,"GET",null,n)},this.getChunked=function(t,n){return(0,r.chunkedGetRequest)(this,e,"medium",t,n)},this.put=function(t,n,i){return i||(i={}),i.token||(i.token=e),i.queryParams&&(t+=(0,r.createQueryString)(i.queryParams)),(0,r.ajaxRequest)(t,"PUT",n,i)},this.post=function(t,n,i){return i||(i={}),i.token||(i.token=e),i.queryParams&&(t+=(0,r.createQueryString)(i.queryParams)),(0,r.ajaxRequest)(t,"POST",n,i)},this.del=function(t,n,i){return i||(i={}),n||(i.contentType=null),i.dataType=null,i.token||(i.token=e),i.queryParams&&(t+=(0,r.createQueryString)(i.queryParams)),(0,r.ajaxRequest)(t,"DELETE",n||null,i)}};t.AjaxRequest=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.postSettings=function(t){return e.request.post(e.getApiUrl()+"application/settings",t)},this.getSettings=function(t){return t?e.request.get(e.getApiUrl()+"application/settings/"+t):e.request.get(e.getApiUrl()+"application/settings")},this.putSettings=function(t,n){return e.request.put(e.getApiUrl()+"application/settings/"+t,n)},this.deleteSettings=function(t){return e.request.del(e.getApiUrl()+"application/settings/"+t)}};t.ApplicationSettings=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiTeamUrl()+"attachments/"+t)},this.download=function(t,n){return n?e.request.get(e.getApiTeamUrl()+"attachments/"+t+"/versions/"+n+"/download"):e.request.get(e.getApiTeamUrl()+"attachments/"+t+"/download")},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"attachments/"+t,n)},this.post=function(t,n,r){return e.request.put(e.getApiTeamUrl()+"attachments/"+t,n,{contentType:!1,processData:!1,dataType:null,xhrUploadProgress:r})},this.delete=function(t,n){return n?e.request.del(e.getApiTeamUrl()+"attachments/"+t+"/versions/"+n):e.request.del(e.getApiTeamUrl()+"attachments/"+t)},this.postVersion=function(t,n,r){return e.request.post(e.getApiTeamUrl()+"attachments/"+t+"/versions",n,{contentType:!1,processData:!1,dataType:null,xhrUploadProgress:r})},this.getAllVersions=function(t){return e.request.get(e.getApiTeamUrl()+"attachments/"+t+"/versions")}};t.Attachments=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiTeamUrl()+"attributetemplates",t)},this.get=function(t){return t?e.request.get(e.getApiTeamUrl()+"attributetemplates/"+t):e.request.get(e.getApiTeamUrl()+"attributetemplates")},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"attributetemplates/"+t,n)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"attributetemplates/"+t)}};t.AttributeTemplates=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t,n,r){return e.request.post(e.getApiUrl()+"authorize",JSON.stringify({user_id:t,password:n,application_id:r}))},this.forgotPassword=function(t){return e.request.post(e.getApiUrl()+"auth-forgot",t,{dataType:null})},this.checkAccessToken=function(){return e.request.get(e.getApiUrl()+"authorize")},this.requestCrossToken=function(){return e.request.post(e.getApiUrl()+"cross-token")}};t.Authorize=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CachedRequest=void 0;var r=n(1),i=n(0),s=function(){var e=null,t=new r.IDBCache;t.initDB().catch(function(e){}),this.setAccessToken=function(t){e=t},this.getCache=function(){return t};var n=function(e,n,r){var i=r.getResponseHeader("ETag"),s=r.getResponseHeader("X-Total-Count"),o=JSON.stringify(n);i&&t.addResponse(e,JSON.parse(o),i,s).then(function(){}).catch(function(e){})},s=function(e){return"W"===e.charAt(0)?e.substring(2):e};this.get=function(r,o){o||(o={}),o.token||(o.token=e),o.queryParams&&(r+=(0,i.createQueryString)(o.queryParams));var u=$.Deferred();return t.getResponse("GET;"+r).then(function(e){if(e){var t=s(e.etag);o.eTag=t,(0,i.ajaxRequest)(r,"GET",null,o).done(function(t,i,s){304===s.status?(null!==e.chunks&&(s["Cached-X-Total-Count"]=e.chunks),u.resolve(e.data,i,s)):(n("GET;"+r,t,s),u.resolve(t,i,s))}).fail(function(e,t){u.reject(e,t)})}else(0,i.ajaxRequest)(r,"GET",null,o).done(function(e,t,i){n("GET;"+r,e,i),u.resolve(e,t,i)}).fail(function(e,t){u.reject(e,t)})}).catch(function(){(0,i.ajaxRequest)(r,"GET",null,o).done(function(e,t,i){n("GET;"+r,e,i),u.resolve(e,t,i)}).fail(function(e,t){u.reject(e,t)})}),u.promise()},this.getChunked=function(t,n){return(0,i.chunkedGetRequest)(this,e,"medium",t,n)},this.put=function(t,n,r){return r||(r={}),r.token||(r.token=e),r.queryParams&&(t+=(0,i.createQueryString)(r.queryParams)),(0,i.ajaxRequest)(t,"PUT",n,r)},this.post=function(t,n,r){return r||(r={}),r.token||(r.token=e),r.queryParams&&(t+=(0,i.createQueryString)(r.queryParams)),(0,i.ajaxRequest)(t,"POST",n,r)},this.del=function(t,n,r){return r||(r={}),n||(r.contentType=null),r.dataType=null,r.token||(r.token=e),r.queryParams&&(t+=(0,i.createQueryString)(r.queryParams)),(0,i.ajaxRequest)(t,"DELETE",n||null,r)},this.head=function(r,o){o||(o={}),o.contentType="",o.dataType="",o.token||(o.token=e),o.queryParams&&(r+=(0,i.createQueryString)(o.queryParams));var u=$.Deferred();return t.getResponse("HEAD;"+r).then(function(e){if(e){var t=s(e.etag);o.eTag=t,(0,i.ajaxRequest)(r,"HEAD",null,o).done(function(e,t,i){304===i.status?u.resolve(!0,t,i):(n("HEAD;"+r,null,i),u.resolve(!1,t,i))}).fail(function(e,t){u.reject(e,t)})}else(0,i.ajaxRequest)(r,"HEAD",null,o).done(function(e,t,i){n("HEAD;"+r,null,i),u.resolve(!1,t,i)}).fail(function(e,t){u.reject(!1,t)})}).catch(function(){(0,i.ajaxRequest)(r,"HEAD",null,o).done(function(e,t,i){n("HEAD;"+r,null,i),u.resolve(!1,t,i)}).fail(function(e,t){u.reject(!1,t)})}),u.promise()}};t.CachedRequest=s},function(e,t,n){"use strict";(function(e,n){function r(e,t){return"object"!==(void 0===t?"undefined":De(t))?e:(Ce(t).forEach(function(n){e[n]=t[n]}),e)}function i(e,t){return Fe.call(e,t)}function s(e,t){"function"==typeof t&&(t=t(Be(e))),Ce(t).forEach(function(n){o(e,n,t[n])})}function o(e,t,n,s){Ke(e,t,r(n&&i(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},s))}function u(e){return{from:function(t){return e.prototype=Object.create(t.prototype),o(e.prototype,"constructor",e),{extend:s.bind(null,e.prototype)}}}}function a(e,t){var n,r=Ne(e,t);return r||(n=Be(e))&&a(n,t)}function c(e,t,n){return Le.call(e,t,n)}function l(e,t){return t(e)}function f(e){var t=setTimeout(e,1e3);clearTimeout(t)}function h(e){if(!e)throw new Error("Assertion Failed")}function p(e){Re.setImmediate?n(e):setTimeout(e,0)}function d(e,t){return e.reduce(function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e},{})}function g(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function m(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function v(e,t){if(i(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,s=t.length;r<s;++r){var o=v(e,t[r]);n.push(o)}return n}var u=t.indexOf(".");if(-1!==u){var a=e[t.substr(0,u)];return void 0===a?void 0:v(a,t.substr(u+1))}}function y(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){h("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)y(e,t[r],n[r])}else{var s=t.indexOf(".");if(-1!==s){var o=t.substr(0,s),u=t.substr(s+1);if(""===u)void 0===n?delete e[o]:e[o]=n;else{var a=e[o];a||(a=e[o]={}),y(a,u,n)}}else void 0===n?delete e[t]:e[t]=n}}function b(e,t){"string"==typeof t?y(e,t,void 0):"length"in t&&[].map.call(t,function(t){y(e,t,void 0)})}function A(e){var t={};for(var n in e)i(e,n)&&(t[n]=e[n]);return t}function T(e){return Ge.apply([],e)}function w(e){if(!e||"object"!==(void 0===e?"undefined":De(e)))return e;var t;if(Me(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(w(e[n]))}else if(He.indexOf(e.constructor)>=0)t=e;else{t=e.constructor?Object.create(e.constructor.prototype):{};for(var s in e)i(e,s)&&(t[s]=w(e[s]))}return t}function q(e,t,n,r){return n=n||{},r=r||"",Ce(e).forEach(function(s){if(i(t,s)){var o=e[s],u=t[s];"object"===(void 0===o?"undefined":De(o))&&"object"===(void 0===u?"undefined":De(u))&&o&&u&&""+o.constructor==""+u.constructor?q(o,u,n,r+s+"."):o!==u&&(n[r+s]=t[s])}else n[r+s]=void 0}),Ce(t).forEach(function(s){i(e,s)||(n[r+s]=t[s])}),n}function _(e){var t,n,r,i;if(1===arguments.length){if(Me(e))return e.slice();if(this===Qe&&"string"==typeof e)return[e];if(i=ze(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}function U(e,t){We=e,Je=t}function j(){if($e)try{throw j.arguments,new Error}catch(e){return e}return new Error}function P(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Je).map(function(e){return"\n"+e}).join("")):""}function k(e,t){return function(){return t.apply(this,arguments)}}function x(e,t){this._e=j(),this.name=e,this.message=t}function S(e,t){return e+". Errors: "+t.map(function(e){return e.toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function O(e,t,n,r){this._e=j(),this.failures=t,this.failedKeys=r,this.successCount=n}function I(e,t){this._e=j(),this.name="BulkError",this.failures=t,this.message=S(e,t)}function E(e,t){if(!e||e instanceof x||e instanceof TypeError||e instanceof SyntaxError||!e.name||!it[e.name])return e;var n=new it[e.name](t||e.message,e);return"stack"in e&&o(n,"stack",{get:function(){return this.inner.stack}}),n}function D(){}function C(e){return e}function M(e,t){return null==e||e===C?t:function(n){return t(e(n))}}function R(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function B(e,t){return e===D?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?R(r,this.onsuccess):r),i&&(this.onerror=this.onerror?R(i,this.onerror):i),void 0!==s?s:n}}function F(e,t){return e===D?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?R(n,this.onsuccess):n),r&&(this.onerror=this.onerror?R(r,this.onerror):r)}}function K(e,t){return e===D?t:function(n){var i=e.apply(this,arguments);r(n,i);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var u=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?R(s,this.onsuccess):s),o&&(this.onerror=this.onerror?R(o,this.onerror):o),void 0===i?void 0===u?void 0:u:r(i,u)}}function N(e,t){return e===D?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function L(e,t){return e===D?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}function G(e){if("object"!==De(this))throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=D,this._lib=!1;var t=this._PSD=Pt;if(We&&(this._stackHolder=j(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ot)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&z(this,this._value))}this._state=null,this._value=null,++t.ref,V(this,e)}function H(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function V(e,t){try{t(function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Z();t&&"function"==typeof t.then?V(e,function(e,n){t instanceof G?t._then(e,n):t.then(e,n)}):(e._state=!0,e._value=t,Q(e)),n&&ee()}},z.bind(null,e))}catch(t){z(e,t)}}function z(e,t){if(qt.push(t),null===e._state){var n=e._lib&&Z();t=Ut(t),e._state=!1,e._value=t,We&&null!==t&&"object"===(void 0===t?"undefined":De(t))&&!t._promise&&m(function(){var n=a(t,"stack");t._promise=e,o(t,"stack",{get:function(){return vt?n&&(n.get?n.get.apply(t):n.value):e.stack}})}),re(e),Q(e),n&&ee()}}function Q(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)W(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===xt&&(++xt,bt(function(){0==--xt&&te()},[]))}function W(e,t){if(null===e._state)return void e._listeners.push(t);var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++xt,bt(J,[n,e,t])}function J(e,t,n){try{_t=t;var r,i=t._value;t._state?r=e(i):(qt.length&&(qt=[]),r=e(i),-1===qt.indexOf(i)&&ie(t)),n.resolve(r)}catch(e){n.reject(e)}finally{_t=null,0==--xt&&te(),--n.psd.ref||n.psd.finalize()}}function $(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,s,o=e._value;null!=o?(i=o.name||"Error",s=o.message||o,r=P(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+r)}return We&&(r=P(e._stackHolder,2),r&&-1===t.indexOf(r)&&t.push(r),e._prev&&$(e._prev,t,n)),t}function X(e,t){var n=t?t._numPrev+1:0;n<ut&&(e._prev=t,e._numPrev=n)}function Y(){Z()&&ee()}function Z(){var e=At;return At=!1,Tt=!1,e}function ee(){var e,t,n;do{for(;kt.length>0;)for(e=kt,kt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(kt.length>0);At=!0,Tt=!0}function te(){var e=wt;wt=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=St.slice(0),n=t.length;n;)t[--n]()}function ne(e){function t(){e(),St.splice(St.indexOf(t),1)}St.push(t),++xt,bt(function(){0==--xt&&te()},[])}function re(e){wt.some(function(t){return t._value===e._value})||wt.push(e)}function ie(e){for(var t=wt.length;t;)if(wt[--t]._value===e._value)return void wt.splice(t,1)}function se(e){return new G(ot,!1,e)}function oe(e,t){var n=Pt;return function(){var r=Z(),i=Pt;try{return pe(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{pe(i,!1),r&&ee()}}}function ue(e,t,n,i){var s=Pt,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++Rt;var u=jt.env;o.env=mt?{Promise:G,PromiseProp:{value:G,configurable:!0,writable:!0},all:G.all,race:G.race,resolve:G.resolve,reject:G.reject,nthen:ye(u.nthen,o),gthen:ye(u.gthen,o)}:{},t&&r(o,t),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=ge(o,e,n,i);return 0===o.ref&&o.finalize(),a}function ae(){return It.id||(It.id=++Et),++It.awaits,It.echoes+=at,It.id}function ce(e){!It.awaits||e&&e!==It.id||(0==--It.awaits&&(It.id=0),It.echoes=It.awaits*at)}function le(e){return It.echoes&&e&&e.constructor===dt?(ae(),e.then(function(e){return ce(),e},function(e){return ce(),Kt(e)})):e}function fe(e){++Mt,It.echoes&&0!=--It.echoes||(It.echoes=It.id=0),Dt.push(Pt),pe(e,!0)}function he(){var e=Dt[Dt.length-1];Dt.pop(),pe(e,!1)}function pe(e,t){var n=Pt;if((t?!It.echoes||Ct++&&e===Pt:!Ct||--Ct&&e===Pt)||me(t?fe.bind(null,e):he),e!==Pt&&(Pt=e,n===jt&&(jt.env=de()),mt)){var r=jt.env.Promise,i=e.env;ft.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Re,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject)}}function de(){var e=Re.Promise;return mt?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Re,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:ft.then,gthen:e.prototype.then}:{}}function ge(e,t,n,r,i){var s=Pt;try{return pe(e,!0),t(n,r,i)}finally{pe(s,!1)}}function me(e){pt.call(lt,e)}function ve(e,t,n){return"function"!=typeof e?e:function(){var r=Pt;n&&ae(),pe(t,!0);try{return e.apply(this,arguments)}finally{pe(r,!1)}}}function ye(e,t){return function(n,r){return e.call(this,ve(n,t,!1),ve(r,t,!1))}}function be(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var i,s={promise:t,reason:e};if(Re.document&&document.createEvent?(i=document.createEvent("Event"),i.initEvent(Bt,!0,!0),r(i,s)):Re.CustomEvent&&(i=new CustomEvent(Bt,{detail:s}),r(i,s)),i&&Re.dispatchEvent&&(dispatchEvent(i),!Re.PromiseRejectionEvent&&Re.onunhandledrejection))try{Re.onunhandledrejection(i)}catch(e){}i.defaultPrevented}catch(e){}}function Ae(e){function t(e,t,s){if("object"===(void 0===e?"undefined":De(e)))return n(e);t||(t=N),s||(s=D);var o={subscribers:[],fire:s,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=t(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter(function(t){return t!==e}),o.fire=o.subscribers.reduce(t,s)}};return r[e]=i[e]=o,o}function n(e){Ce(e).forEach(function(n){var r=e[n];if(Me(r))t(n,e[n][0],e[n][1]);else{if("asap"!==r)throw new rt.InvalidArgument("Invalid event config");var i=t(n,C,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];i.subscribers.forEach(function(e){p(function(){e.apply(null,t)})})})}})}var r={},i=function(t,n){if(n){for(var i=arguments.length,s=new Array(i-1);--i;)s[i-1]=arguments[i];return r[t].subscribe.apply(null,s),e}if("string"==typeof t)return r[t]};i.addEventType=t;for(var s=1,o=arguments.length;s<o;++s)t(arguments[s]);return i}function Te(e,t){function n(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function u(e,t,n){var r=et._createTransaction(Ze,He,Le);r.create(t),r._completion.catch(n);var i=r._reject.bind(r);ue(function(){Pt.trans=r,0===e?(Ce(Le).forEach(function(e){b(t,e,Le[e].primKey,Le[e].indexes)}),G.follow(function(){return et.on.populate.fire(r)}).catch(i)):a(e,r,t).catch(i)})}function a(e,t,n){function r(){return i.length?G.resolve(i.shift()(t.idbtrans)).then(r):G.resolve()}var i=[],s=Ge.filter(function(t){return t._cfg.version===e})[0];if(!s)throw new rt.Upgrade("Dexie specification of currently installed DB version is missing");Le=et._dbSchema=s._cfg.dbschema;var o=!1;return Ge.filter(function(t){return t._cfg.version>e}).forEach(function(e){i.push(function(){var r=Le,i=e._cfg.dbschema;pe(r,n),pe(i,n),Le=et._dbSchema=i;var s=p(r,i);if(s.add.forEach(function(e){b(n,e[0],e[1].primKey,e[1].indexes)}),s.change.forEach(function(e){if(e.recreate)throw new rt.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach(function(e){x(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),x(t,e)}),e.del.forEach(function(e){t.deleteIndex(e)})}),e._cfg.contentUpgrade)return o=!0,G.follow(function(){e._cfg.contentUpgrade(t)})}),i.push(function(t){o&&Jt||P(e._cfg.dbschema,t)})}),r().then(function(){U(Le,n)})}function p(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],s=t[r];if(i){var o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==s.primKey.src)o.recreate=!0,n.change.push(o);else{var u=i.idxByName,a=s.idxByName;for(var c in u)a[c]||o.del.push(c);for(c in a){var l=u[c],f=a[c];l?l.src!==f.src&&o.change.push(f):o.add.push(f)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function b(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(e){x(i,e)}),i}function U(e,t){Ce(e).forEach(function(n){t.db.objectStoreNames.contains(n)||b(t,n,e[n].primKey,e[n].indexes)})}function P(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}function x(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function S(e,t,n){if(Ye||Pt.letThrough){var r=et._createTransaction(e,t,Le);try{r.create()}catch(e){return Kt(e)}return r._promise(e,function(e,t){return ue(function(){return Pt.trans=r,n(e,t,r)})}).then(function(e){return r._completion.then(function(){return e})})}if(!$e){if(!Fe)return Kt(new rt.DatabaseClosed);et.open().catch(D)}return tt.then(function(){return S(e,t,n)})}function E(e,t,n){var r=arguments.length;if(r<2)throw new rt.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,T(i),n]}function R(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=Ve[e]?Ve[e].hook:Ae(null,{creating:[B,D],reading:[M,C],updating:[K,D],deleting:[F,D]})}function N(e,t,n){return(n?Pe:Ue)(function(n){e.push(n),t&&t()})}function H(e,t,n,r,i){return new G(function(s,o){var u=n.length,a=u-1;if(0===u)return s();if(r){var c,l=Pe(o),f=_e(null);m(function(){for(var r=0;r<u;++r){c={onsuccess:null,onerror:null};var o=n[r];i.call(c,o[0],o[1],t);var h=e.delete(o[0]);h._hookCtx=c,h.onerror=l,h.onsuccess=r===a?_e(s):f}},function(e){throw c.onerror&&c.onerror(e),e})}else for(var h=0;h<u;++h){var p=e.delete(n[h]);p.onerror=Ue(o),h===a&&(p.onsuccess=oe(function(){return s()}))}})}function V(e,t,n,r){var i=this;this.db=et,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=Ae(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new G(function(e,t){i._resolve=e,i._reject=t}),this._completion.then(function(){i.active=!1,i.on.complete.fire()},function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),Kt(e)})}function z(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function Q(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,s=i.table;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:s.hook.reading.fire}}function W(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function J(e,t){return e._cfg.version-t._cfg.version}function $(e,t,n){t.forEach(function(t){var r=n[t];e.forEach(function(e){t in e||(e===V.prototype||e instanceof V?o(e,t,{get:function(){return this.table(t)}}):e[t]=new R(t,r))})})}function X(e){e.forEach(function(e){for(var t in e)e[t]instanceof R&&delete e[t]})}function Y(e,t,n,r,i,s){var o=s?function(e,t,r){return n(s(e),t,r)}:n,u=oe(o,i);e.onerror||(e.onerror=Ue(i)),e.onsuccess=t?g(function(){var n=e.result;if(n){var s=function(){n.continue()};t(n,function(e){s=e},r,i)&&u(n.value,n,function(e){s=e}),s()}else r()},i):g(function(){var t=e.result;if(t){var n=function(){t.continue()};u(t.value,t,function(e){n=e}),n()}else r()},i)}function Z(e){var t=[];return e.split(",").forEach(function(e){e=e.trim();var n=e.replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Se(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Me(r),/\./.test(e)))}),t}function ee(e,t){return Ke.cmp(e,t)}function te(e,t){return ee(e,t)<0?e:t}function ne(e,t){return ee(e,t)>0?e:t}function re(e,t){return Ke.cmp(e,t)}function ie(e,t){return Ke.cmp(t,e)}function se(e,t){return e<t?-1:e===t?0:1}function le(e,t){return e>t?-1:e===t?0:1}function fe(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function he(){if(et.verno=ze.version/10,et._dbSchema=Le={},He=c(ze.objectStoreNames,0),0!==He.length){var e=ze.transaction(Ie(He),"readonly");He.forEach(function(t){for(var n=e.objectStore(t),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),s=new Se(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),o=[],u=0;u<n.indexNames.length;++u){var a=n.index(n.indexNames[u]);r=a.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf(".");var c=new Se(a.name,r,!!a.unique,!!a.multiEntry,!1,r&&"string"!=typeof r,i);o.push(c)}Le[t]=new Oe(t,s,o,{})}),$([Ve],Ce(Le),Le)}}function pe(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],s=t.objectStore(i);ye="getAll"in s;for(var o=0;o<s.indexNames.length;++o){var u=s.indexNames[o],a=s.index(u).keyPath,l="string"==typeof a?a:"["+c(a).join("+")+"]";if(e[i]){var f=e[i].idxByName[l];f&&(f.name=u)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Re.WorkerGlobalScope&&Re instanceof Re.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(ye=!1)}function de(e){et.on("blocked").fire(e),Qt.filter(function(e){return e.name===et.name&&e!==et&&!e._vcFired}).map(function(t){return t.on("versionchange").fire(e)})}var me,ve,ye,be=Te.dependencies,we=r({addons:Te.addons,autoOpen:!0,indexedDB:be.indexedDB,IDBKeyRange:be.IDBKeyRange},t),Be=we.addons,Fe=we.autoOpen,Ke=we.indexedDB,Ne=we.IDBKeyRange,Le=this._dbSchema={},Ge=[],He=[],Ve={},ze=null,Je=null,$e=!1,Xe=null,Ye=!1,Ze="readwrite",et=this,tt=new G(function(e){me=e}),nt=new G(function(e,t){ve=t}),it=!0,st=!!Ee(Ke);this.version=function(e){if(ze||$e)throw new rt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=Ge.filter(function(t){return t._cfg.version===e})[0];return t||(t=new n(e),Ge.push(t),Ge.sort(J),it=!1,t)},r(n.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,e):e;var t={};Ge.forEach(function(e){r(t,e._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),Le=et._dbSchema=n,X([Ve,et,V.prototype]),$([Ve,et,V.prototype,this._cfg.tables],Ce(n),n),He=Ce(n),this},upgrade:function(e){var t=this;return Yt(function(){e(et._createTransaction(Ze,Ce(t._cfg.dbschema),t._cfg.dbschema))}),this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){Ce(e).forEach(function(n){if(null!==e[n]){var r={},i=Z(e[n]),s=i.shift();if(s.multi)throw new rt.Schema("Primary key cannot be multi-valued");s.keyPath&&y(r,s.keyPath,s.auto?0:s.keyPath),i.forEach(function(e){if(e.auto)throw new rt.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new rt.Schema("Index must have a name and cannot be an empty string");y(r,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")}),t[n]=new Oe(n,s,i,r)}})}}),this._allTables=Ve,this._createTransaction=function(e,t,n,r){return new V(e,t,n,r)},this._whenReady=function(e){return Zt||Ye||Pt.letThrough?e():new G(function(e,t){if(!$e){if(!Fe)return void t(new rt.DatabaseClosed);et.open().catch(D)}tt.then(e,t)}).then(e)},this.verno=0,this.open=function(){if($e||ze)return tt.then(function(){return Je?Kt(Je):et});We&&(nt._stackHolder=j()),$e=!0,Je=null,Ye=!1;var t=me,n=null;return G.race([nt,new G(function(t,r){if(f(function(){return t()}),!Ke)throw new rt.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=it?Ke.open(e):Ke.open(e,Math.round(10*et.verno));if(!i)throw new rt.MissingAPI("IndexedDB API not available");i.onerror=Ue(r),i.onblocked=oe(de),i.onupgradeneeded=oe(function(t){if(n=i.transaction,it&&!et._allowEmptyDB){i.onerror=ke,n.abort(),i.result.close();var s=Ke.deleteDatabase(e);s.onsuccess=s.onerror=oe(function(){r(new rt.NoSuchDatabase("Database "+e+" doesnt exist"))})}else{n.onerror=Ue(r);u((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,n,r)}},r),i.onsuccess=oe(function(){if(n=null,ze=i.result,Qt.push(et),it)he();else if(ze.objectStoreNames.length>0)try{pe(Le,ze.transaction(Ie(ze.objectStoreNames),"readonly"))}catch(e){}ze.onversionchange=oe(function(e){et._vcFired=!0,et.on("versionchange").fire(e)}),st||"__dbnames"===e||Ft.dbnames.put({name:e}).catch(D),t()},r)})]).then(function(){return Xe=[],G.resolve(Te.vip(et.on.ready.fire)).then(function e(){if(Xe.length>0){var t=Xe.reduce(L,D);return Xe=[],G.resolve(Te.vip(t)).then(e)}})}).finally(function(){Xe=null}).then(function(){return $e=!1,et}).catch(function(e){try{n&&n.abort()}catch(e){}return $e=!1,et.close(),Je=e,Kt(Je)}).finally(function(){Ye=!0,t()})},this.close=function(){var e=Qt.indexOf(et);if(e>=0&&Qt.splice(e,1),ze){try{ze.close()}catch(e){}ze=null}Fe=!1,Je=new rt.DatabaseClosed,$e&&ve(Je),tt=new G(function(e){me=e}),nt=new G(function(e,t){ve=t})},this.delete=function(){var t=arguments.length>0;return new G(function(n,r){function i(){et.close();var t=Ke.deleteDatabase(e);t.onsuccess=oe(function(){st||Ft.dbnames.delete(e).catch(D),n()}),t.onerror=Ue(r),t.onblocked=de}if(t)throw new rt.InvalidArgument("Arguments not allowed in db.delete()");$e?tt.then(i):i()})},this.backendDB=function(){return ze},this.isOpen=function(){return null!==ze},this.hasBeenClosed=function(){return Je&&Je instanceof rt.DatabaseClosed},this.hasFailed=function(){return null!==Je},this.dynamicallyOpened=function(){return it},this.name=e,s(this,{tables:{get:function(){return Ce(Ve).map(function(e){return Ve[e]})}}}),this.on=Ae(this,"populate","blocked","versionchange",{ready:[L,D]}),this.on.ready.subscribe=l(this.on.ready.subscribe,function(e){return function(t,n){Te.vip(function(){Ye?(Je||G.resolve().then(t),n&&e(t)):Xe?(Xe.push(t),n&&e(t)):(e(t),n||e(function e(){et.on.ready.unsubscribe(t),et.on.ready.unsubscribe(e)}))})}}),Yt(function(){et.on("populate").fire(et._createTransaction(Ze,He,Le))}),this.transaction=function(){var e=E.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){function r(){return G.resolve().then(function(){var t=Pt.transless||Pt,r=et._createTransaction(e,o,Le,i),s={trans:r,transless:t};i?r.idbtrans=i.idbtrans:r.create(),n.constructor===gt&&ae();var u,a=G.follow(function(){if(u=n.call(r,r))if(u.constructor===dt){var e=ce.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=xe(u))},s);return(u&&"function"==typeof u.then?G.resolve(u).then(function(e){return r.active?e:Kt(new rt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):a.then(function(){return u})).then(function(e){return i&&r._resolve(),r._completion.then(function(){return e})}).catch(function(e){return r._reject(e),Kt(e)})})}var i=Pt.trans;i&&i.db===et&&-1===e.indexOf("!")||(i=null);var s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var o=t.map(function(e){var t=e instanceof R?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=Ze)throw new rt.InvalidArgument("Invalid transaction mode: "+e);e=Ze}if(i){if("readonly"===i.mode&&e===Ze){if(!s)throw new rt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach(function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!s)throw new rt.SubTransaction("Table "+e+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,function(t,n){n(e)}):Kt(e)}return i?i._promise(e,r,"lock"):Pt.trans?ge(Pt.transless,function(){return et._whenReady(r)}):et._whenReady(r)},this.table=function(e){if(Zt&&it)return new R(e);if(!i(Ve,e))throw new rt.InvalidTable("Table "+e+" does not exist");return Ve[e]},s(R.prototype,{_trans:function(e,t,n){var r=this._tx||Pt.trans;return r&&r.db===et?r===Pt.trans?r._promise(e,t,n):ue(function(){return r._promise(e,t,n)},{trans:r,transless:Pt.transless||Pt}):S(e,[this.name],t)},_idbstore:function(e,t,n){function r(e,n,r){if(-1===r.storeNames.indexOf(i))throw new rt.NotFound("Table"+i+" not part of transaction");return t(e,n,r.idbtrans.objectStore(i),r)}if(Zt)return new G(t);var i=this.name;return this._trans(e,r,n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",function(t,r,i){Zt&&t(n.schema.instanceTemplate);var s=i.get(e);s.onerror=Ue(r),s.onsuccess=oe(function(){t(n.hook.reading.fire(s.result))},r)}).then(t)},where:function(e){if("string"==typeof e)return new z(this,e);if(Me(e))return new z(this,"["+e.join("+")+"]");var t=Ce(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){return e.compound&&t.every(function(t){return e.keyPath.indexOf(t)>=0})&&e.keyPath.every(function(e){return t.indexOf(e)>=0})})[0];if(n&&Gt!==Lt)return this.where(n.name).equals(n.keyPath.map(function(t){return e[t]}));var r=this.schema.idxByName,i=t.reduce(function(t,n){return[t[0]||r[n],t[0]||!r[n]?fe(t[1],function(t){return""+v(t,n)==""+e[n]}):t[1]]},[null,null]),s=i[0];return s?this.where(s.name).equals(e[s.keyPath]).filter(i[1]):n?this.filter(i[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new Q(new z(this,Me(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new Q(new z(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&qe(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(i(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(Te.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===D?this._idbstore(Ze,function(t,n,r,i){t(H(r,i,e,!1,D))}):this.where(":id").anyOf(e).delete().then(function(){})},bulkPut:function(e,t){var n=this;return this._idbstore(Ze,function(r,i,s){if(!s.keyPath&&!n.schema.primKey.auto&&!t)throw new rt.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new rt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new rt.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var o,u,a=function(e){0===c.length?r(e):i(new I(n.name+".bulkPut(): "+c.length+" of "+l+" operations failed",c))},c=[],l=e.length,f=n;if(n.hook.creating.fire===D&&n.hook.updating.fire===D){u=N(c);for(var h=0,p=e.length;h<p;++h)o=t?s.put(e[h],t[h]):s.put(e[h]),o.onerror=u;o.onerror=N(c,a),o.onsuccess=je(a)}else{var g=t||s.keyPath&&e.map(function(e){return v(e,s.keyPath)}),m=g&&d(g,function(t,n){return null!=t&&[t,e[n]]});(g?f.where(":id").anyOf(g.filter(function(e){return null!=e})).modify(function(){this.value=m[this.primKey],m[this.primKey]=null}).catch(O,function(e){c=e.failures}).then(function(){for(var n=[],r=t&&[],i=g.length-1;i>=0;--i){var s=g[i];(null==s||m[s])&&(n.push(e[i]),t&&r.push(s),null!=s&&(m[s]=null))}return n.reverse(),t&&r.reverse(),f.bulkAdd(n,r)}).then(function(e){var t=g[g.length-1];return null!=t?t:e}):f.bulkAdd(e)).then(a).catch(I,function(e){c=c.concat(e.failures),a()}).catch(i)}},"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(Ze,function(i,s,o,u){function a(e){0===h.length?i(e):s(new I(n.name+".bulkAdd(): "+h.length+" of "+p+" operations failed",h))}if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new rt.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new rt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new rt.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();var c,l,f,h=[],p=e.length;if(r!==D){var d,g=o.keyPath;l=N(h,null,!0),f=_e(null),m(function(){for(var n=0,i=e.length;n<i;++n){d={onerror:null,onsuccess:null};var s=t&&t[n],a=e[n],h=t?s:g?v(a,g):void 0,p=r.call(d,h,a,u);null==h&&null!=p&&(g?(a=w(a),y(a,g,p)):s=p),c=null!=s?o.add(a,s):o.add(a),c._hookCtx=d,n<i-1&&(c.onerror=l,d.onsuccess&&(c.onsuccess=f))}},function(e){throw d.onerror&&d.onerror(e),e}),c.onerror=N(h,a,!0),c.onsuccess=_e(a)}else{l=N(h);for(var b=0,A=e.length;b<A;++b)c=t?o.add(e[b],t[b]):o.add(e[b]),c.onerror=l;c.onerror=N(h,a),c.onsuccess=je(a)}})},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(Ze,function(r,i,s,o){var u={onsuccess:null,onerror:null};if(n!==D){var a=null!=t?t:s.keyPath?v(e,s.keyPath):void 0,c=n.call(u,a,e,o);null==a&&null!=c&&(s.keyPath?y(e,s.keyPath,c):t=c)}try{var l=null!=t?s.add(e,t):s.add(e);l._hookCtx=u,l.onerror=Pe(i),l.onsuccess=_e(function(t){var n=s.keyPath;n&&y(e,n,t),r(t)})}catch(e){throw u.onerror&&u.onerror(e),e}})},put:function(e,t){var n=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==D||i!==D){var s=this.schema.primKey.keyPath,o=void 0!==t?t:s&&v(e,s);return null==o?this.add(e):(e=w(e),this._trans(Ze,function(){return n.where(":id").equals(o).modify(function(){this.value=e}).then(function(r){return 0===r?n.add(e,t):o})},"locked"))}return this._idbstore(Ze,function(n,r,i){var s=void 0!==t?i.put(e,t):i.put(e);s.onerror=Ue(r),s.onsuccess=oe(function(t){var r=i.keyPath;r&&y(e,r,t.target.result),n(s.result)})})},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(Ze,function(t,n,r){var i=r.delete(e);i.onerror=Ue(n),i.onsuccess=oe(function(){t(i.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(Ze,function(e,t,n){var r=n.clear();r.onerror=Ue(t),r.onsuccess=oe(function(){e(r.result)})})},update:function(e,t){if("object"!==(void 0===t?"undefined":De(t))||Me(t))throw new rt.InvalidArgument("Modifications must be an object.");if("object"!==(void 0===e?"undefined":De(e))||Me(e))return this.where(":id").equals(e).modify(t);Ce(t).forEach(function(n){y(e,n,t[n])});var n=v(e,this.schema.primKey.keyPath);return void 0===n?Kt(new rt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),s(V.prototype,{_lock:function(){return h(!Pt.global),++this._reculock,1!==this._reculock||Pt.global||(Pt.lockOwnerFor=this),this},_unlock:function(){if(h(!Pt.global),0==--this._reculock)for(Pt.global||(Pt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ge(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&Pt.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(h(!this.idbtrans),!e&&!ze)switch(Je&&Je.name){case"DatabaseClosedError":throw new rt.DatabaseClosed(Je);case"MissingAPIError":throw new rt.MissingAPI(Je.message,Je);default:throw new rt.OpenFailed(Je)}if(!this.active)throw new rt.TransactionInactive;return h(null===this._completion._state),e=this.idbtrans=e||ze.transaction(Ie(this.storeNames),this.mode),e.onerror=oe(function(n){ke(n),t._reject(e.error)}),e.onabort=oe(function(n){ke(n),t.active&&t._reject(new rt.Abort(e.error)),t.active=!1,t.on("abort").fire(n)}),e.oncomplete=oe(function(){t.active=!1,t._resolve()}),this},_promise:function(e,t,n){var r=this;if(e===Ze&&this.mode!==Ze)return Kt(new rt.ReadOnly("Transaction is readonly"));if(!this.active)return Kt(new rt.TransactionInactive);if(this._locked())return new G(function(i,s){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,s)},Pt])});if(n)return ue(function(){var e=new G(function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)});return e.finally(function(){return r._unlock()}),e._lib=!0,e});var i=new G(function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)});return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=G.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return e});else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new G(function(n,i){e.then(function(e){return t._waitingQueue.push(oe(n.bind(null,e)))},function(e){return t._waitingQueue.push(oe(i.bind(null,e)))}).finally(function(){t._waitingFor===r&&(t._waitingFor=null)})})},abort:function(){this.active&&this._reject(new rt.Abort),this.active=!1},tables:{get:k("Transaction.tables",function(){return Ve})},table:function(e){return new R(e,et.table(e).schema,this)}}),s(z.prototype,function(){function e(e,t,n){var r=e instanceof z?new Q(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new Q(e,function(){return Ne.only("")}).limit(0)}function n(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function r(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function i(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),u=-1,a=0;a<o;++a){var c=t[a];if(c!==r[a])return i(e[a],n[a])<0?e.substr(0,a)+n[a]+n.substr(a+1):i(e[a],r[a])<0?e.substr(0,a)+r[a]+n.substr(a+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[a],c)<0&&(u=a)}return o<r.length&&"next"===s?e+n.substr(e.length):o<e.length&&"prev"===s?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function s(t,s,o,u){function a(e){c=n(e),l=r(e),f="next"===e?se:le;var t=o.map(function(e){return{lower:l(e),upper:c(e)}}).sort(function(e,t){return f(e.lower,t.lower)});h=t.map(function(e){return e.upper}),p=t.map(function(e){return e.lower}),d=e,g="next"===e?"":u}var c,l,f,h,p,d,g,m=o.length;if(!o.every(function(e){return"string"==typeof e}))return e(t,zt);a("next");var v=new Q(t,function(){return Ne.bound(h[0],p[m-1]+u)});v._ondirectionchange=function(e){a(e)};var y=0;return v._addAlgorithm(function(e,t,n){var r=e.key;if("string"!=typeof r)return!1;var o=l(r);if(s(o,p,y))return!0;for(var u=null,a=y;a<m;++a){var c=i(r,o,h[a],p[a],f,d);null===c&&null===u?y=a+1:(null===u||f(u,c)>0)&&(u=c)}return t(null!==u?function(){e.continue(u+g)}:n),!1}),v}return{between:function(n,r,i,s){i=!1!==i,s=!0===s;try{return ee(n,r)>0||0===ee(n,r)&&(i||s)&&(!i||!s)?t(this):new Q(this,function(){return Ne.bound(n,r,!i,!s)})}catch(t){return e(this,Vt)}},equals:function(e){return new Q(this,function(){return Ne.only(e)})},above:function(e){return new Q(this,function(){return Ne.lowerBound(e,!0)})},aboveOrEqual:function(e){return new Q(this,function(){return Ne.lowerBound(e)})},below:function(e){return new Q(this,function(){return Ne.upperBound(e,!0)})},belowOrEqual:function(e){return new Q(this,function(){return Ne.upperBound(e)})},startsWith:function(t){return"string"!=typeof t?e(this,zt):this.between(t,t+Lt,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):s(this,function(e,t){return 0===e.indexOf(t[0])},[e],Lt)},equalsIgnoreCase:function(e){return s(this,function(e,t){return e===t[0]},[e],"")},anyOfIgnoreCase:function(){var e=_.apply(Qe,arguments);return 0===e.length?t(this):s(this,function(e,t){return-1!==t.indexOf(e)},e,"")},startsWithAnyOfIgnoreCase:function(){var e=_.apply(Qe,arguments);return 0===e.length?t(this):s(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,Lt)},anyOf:function(){var n=_.apply(Qe,arguments),r=re;try{n.sort(r)}catch(t){return e(this,Vt)}if(0===n.length)return t(this);var i=new Q(this,function(){return Ne.bound(n[0],n[n.length-1])});i._ondirectionchange=function(e){r="next"===e?re:ie,n.sort(r)};var s=0;return i._addAlgorithm(function(e,t,i){for(var o=e.key;r(o,n[s])>0;)if(++s===n.length)return t(i),!1;return 0===r(o,n[s])||(t(function(){e.continue(n[s])}),!1)}),i},notEqual:function(e){return this.inAnyRange([[Ht,e],[e,Gt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=_.apply(Qe,arguments);if(0===t.length)return new Q(this);try{t.sort(re)}catch(t){return e(this,Vt)}var n=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[Ht,t]]},null);return n.push([t[t.length-1],Gt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){function i(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(ee(t[0],i[1])<0&&ee(t[1],i[0])>0){i[0]=te(i[0],t[0]),i[1]=ne(i[1],t[1]);break}}return n===r&&e.push(t),e}function s(e,t){return l(e[0],t[0])}function o(e){return!h(e)&&!p(e)}if(0===n.length)return t(this);if(!n.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&re(e[0],e[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",rt.InvalidArgument);var u,a=!r||!1!==r.includeLowers,c=r&&!0===r.includeUppers,l=re;try{u=n.reduce(i,[]),u.sort(s)}catch(t){return e(this,Vt)}var f=0,h=c?function(e){return re(e,u[f][1])>0}:function(e){return re(e,u[f][1])>=0},p=a?function(e){return ie(e,u[f][0])>0}:function(e){return ie(e,u[f][0])>=0},d=h,g=new Q(this,function(){return Ne.bound(u[0][0],u[u.length-1][1],!a,!c)});return g._ondirectionchange=function(e){"next"===e?(d=h,l=re):(d=p,l=ie),u.sort(s)},g._addAlgorithm(function(e,t,n){for(var r=e.key;d(r);)if(++f===u.length)return t(n),!1;return!!o(r)||0!==ee(r,u[f][1])&&0!==ee(r,u[f][0])&&(t(function(){l===re?e.continue(u[f][0]):e.continue(u[f][1])}),!1)}),g},startsWithAnyOf:function(){var n=_.apply(Qe,arguments);return n.every(function(e){return"string"==typeof e})?0===n.length?t(this):this.inAnyRange(n.map(function(e){return[e,e+Lt]})):e(this,"startsWithAnyOf() only works with strings")}}}),s(Q.prototype,function(){function e(e,t){e.filter=fe(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return fe(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){e.isMatch=fe(e.isMatch,t)}function s(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new rt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function o(e,t){var n=s(e,t);return e.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(e.range||null,e.dir+e.unique):n.openCursor(e.range||null,e.dir+e.unique)}function u(e,t,n,r,s){var u=e.replayFilter?fe(e.filter,e.replayFilter()):e.filter;e.or?function(){function a(){2==++f&&n()}function c(e,n,s){if(!u||u(n,s,a,r)){var o=n.primaryKey,c=""+o;"[object ArrayBuffer]"===c&&(c=""+new Uint8Array(o)),i(l,c)||(l[c]=!0,t(e,n,s))}}var l={},f=0;e.or._iterate(c,a,r,s),Y(o(e,s),e.algorithm,c,a,r,!e.keysOnly&&e.valueMapper)}():Y(o(e,s),fe(e.algorithm,u),t,n,r,!e.keysOnly&&e.valueMapper)}function a(e){return e.table.schema.instanceTemplate}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Kt.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,Kt.bind(null,t.error)):t.table._idbstore(Ze,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=fe(t.algorithm,e)},_iterate:function(e,t,n,r){return u(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&r(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;if(Zt){var n=a(t),r=t.table.schema.primKey.keyPath,i=v(n,t.index?t.table.schema.idxByName[t.index].keyPath:r),s=v(n,r);e(n,{key:i,primaryKey:s})}return this._read(function(n,r,i){u(t,e,n,r,i)})},count:function(e){if(Zt)return G.resolve(0).then(e);var t=this._ctx;if(W(t,!0))return this._read(function(e,n,r){var i=s(t,r),o=t.range?i.count(t.range):i.count();o.onerror=Ue(n),o.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}},e);var n=0;return this._read(function(e,r,i){u(t,function(){return++n,!1},function(){e(n)},r,i)},e)},sortBy:function(e,t){function n(e,t){return t?n(e[i[t]],t-1):e[s]}function r(e,t){var r=n(e,o),i=n(t,o);return r<i?-u:r>i?u:0}var i=e.split(".").reverse(),s=i[0],o=i.length-1,u="next"===this._ctx.dir?1:-1;return this.toArray(function(e){return e.sort(r)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,n,r){if(Zt&&e([a(t)]),ye&&"next"===t.dir&&W(t,!0)&&t.limit>0){var i=t.table.hook.reading.fire,o=s(t,r),c=t.limit<1/0?o.getAll(t.range,t.limit):o.getAll(t.range);c.onerror=Ue(n),c.onsuccess=je(i===C?e:function(t){try{e(t.map(i))}catch(e){n(e)}})}else{var l=[];u(t,function(e){l.push(e)},function(){e(l)},n,r)}},e)},offset:function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,W(n)?t(n,function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n(function(){e.advance(t),t=0}),!1))}}):t(n,function(){var t=e;return function(){return--t<0}}),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}},!0),this},until:function(t,n){var r=this._ctx;return Zt&&t(a(r)),e(this._ctx,function(e,r,i){return!t(e.value)||(r(i),n)}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return Zt&&t(a(this._ctx)),e(this._ctx,function(e){return t(e.value)}),n(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new z(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},primaryKeys:function(e){var t=this._ctx;if(ye&&"next"===t.dir&&W(t,!0)&&t.limit>0)return this._read(function(e,n,r){var i=s(t,r),o=t.limit<1/0?i.getAllKeys(t.range,t.limit):i.getAllKeys(t.range);o.onerror=Ue(n),o.onsuccess=je(e)}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),n=i(r,t);return r[t]=!0,!n}),this},modify:function(e){var t=this,n=this._ctx,s=n.table.hook,o=s.updating.fire,u=s.deleting.fire;return Zt&&"function"==typeof e&&e.call({value:n.table.schema.instanceTemplate},n.table.schema.instanceTemplate),this._write(function(n,s,a,c){function l(e,t){function n(e){return j.push(e),P.push(r.primKey),h(),!0}k=t.primaryKey;var r={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};if(!1!==p.call(r,e,r)){var s=!i(r,"value");++T,m(function(){var e=s?t.delete():t.update(r.value);e._hookCtx=r,e.onerror=Pe(n),e.onsuccess=_e(function(){++_,h()})},n)}else r.onsuccess&&r.onsuccess(r.value)}function f(e){return e&&(j.push(e),P.push(k)),s(new O("Error modifying one or more objects",j,_,P))}function h(){U&&_+j.length===T&&(j.length>0?f():n(_))}var p;if("function"==typeof e)p=o===D&&u===D?e:function(t){var n=w(t);if(!1===e.call(this,t,this))return!1;if(i(this,"value")){var r=q(n,this.value),s=o.call(this,r,this.primKey,n,c);s&&(t=this.value,Ce(s).forEach(function(e){y(t,e,s[e])}))}else u.call(this,this.primKey,t,c)};else if(o===D){var d=Ce(e),g=d.length;p=function(t){for(var n=!1,r=0;r<g;++r){var i=d[r],s=e[i];v(t,i)!==s&&(y(t,i,s),n=!0)}return n}}else{var b=e;e=A(b),p=function(t){var n=!1,i=o.call(this,e,this.primKey,w(t),c);return i&&r(e,i),Ce(e).forEach(function(r){var i=e[r];v(t,r)!==i&&(y(t,r,i),n=!0)}),i&&(e=A(b)),n}}var T=0,_=0,U=!1,j=[],P=[],k=null;t.clone().raw()._iterate(l,function(){U=!0,h()},f,a)})},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==D;if(!i&&W(t)&&(t.isPrimKey&&!$t||!n))return this._write(function(e,t,r){var i=Ue(t),s=n?r.count(n):r.count();s.onerror=i,s.onsuccess=function(){var o=s.result;m(function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(o)}},function(e){return t(e)})}});var s=i?2e3:1e4;return this._write(function(n,o,u,a){var c=0,l=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(s).raw(),f=[];n(function e(){return l.each(i?function(e,t){f.push([t.primaryKey,t.value])}:function(e,t){f.push(t.primaryKey)}).then(function(){return i?f.sort(function(e,t){return re(e[0],t[0])}):f.sort(re),H(u,a,f,i,r)}).then(function(){var t=f.length;return c+=t,f=[],t<s?c:e()})}())})}}}),r(this,{Collection:Q,Table:R,Transaction:V,Version:n,WhereClause:z}),function(){et.on("versionchange",function(e){e.newVersion,et.close()}),et.on("blocked",function(e){!e.newVersion||(e.newVersion,e.oldVersion)})}(),Be.forEach(function(e){e(et)})}function we(e){if("function"==typeof e)return new e;if(Me(e))return[we(e[0])];if(e&&"object"===(void 0===e?"undefined":De(e))){var t={};return qe(t,e),t}return e}function qe(e,t){return Ce(t).forEach(function(n){var r=we(t[n]);e[n]=r}),e}function _e(e){return oe(function(t){var n=t.target,r=n.result,i=n._hookCtx,s=i&&i.onsuccess;s&&s(r),e&&e(r)},e)}function Ue(e){return oe(function(t){return ke(t),e(t.target.error),!1})}function je(e){return oe(function(t){e(t.target.result)})}function Pe(e){return oe(function(t){var n=t.target,r=n.error,i=n._hookCtx,s=i&&i.onerror;return s&&s(r),ke(t),e(r),!1})}function ke(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function xe(e){function t(e){return function(t){var n=e(t),r=n.value;return n.done?r:r&&"function"==typeof r.then?r.then(i,s):Me(r)?G.all(r).then(i,s):i(r)}}var n=function(t){return e.next(t)},r=function(t){return e.throw(t)},i=t(n),s=t(r);return t(n)()}function Se(e,t,n,r,i,s,o){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=s,this.dotted=o;var u="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+u}function Oe(e,t,n,r){this.name=e,this.primKey=t||new Se,this.indexes=n||[new Se],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=d(n,function(e){return[e.name,e]})}function Ie(e){return 1===e.length?e[0]:e}function Ee(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}Object.defineProperty(t,"__esModule",{value:!0});var De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce=Object.keys,Me=Array.isArray,Re="undefined"!=typeof self?self:"undefined"!=typeof window?window:e,Be=Object.getPrototypeOf,Fe={}.hasOwnProperty,Ke=Object.defineProperty,Ne=Object.getOwnPropertyDescriptor,Le=[].slice,Ge=[].concat,He="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(T([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return Re[e]}).map(function(e){return Re[e]}),Ve="undefined"!=typeof Symbol&&Symbol.iterator,ze=Ve?function(e){var t;return null!=e&&(t=e[Ve])&&t.apply(e)}:function(){return null},Qe={},We="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Je=function(){return!0},$e=!new Error("").stack,Xe=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Ye=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ze=Xe.concat(Ye),et={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};u(x).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+P(this._e,2))}},toString:function(){return this.name+": "+this.message}}),u(O).from(x),u(I).from(x);var tt=Ze.reduce(function(e,t){return e[t]=t+"Error",e},{}),nt=x,rt=Ze.reduce(function(e,t){function n(e,n){this._e=j(),this.name=r,e?"string"==typeof e?(this.message=e,this.inner=n||null):"object"===(void 0===e?"undefined":De(e))&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=et[t]||r,this.inner=null)}var r=t+"Error";return u(n).from(nt),e[t]=n,e},{});rt.Syntax=SyntaxError,rt.Type=TypeError,rt.Range=RangeError;var it=Ye.reduce(function(e,t){return e[t+"Error"]=rt[t],e},{}),st=Ze.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=rt[t]),e},{});st.ModifyError=O,st.DexieError=x,st.BulkError=I;var ot={},ut=100,at=7,ct=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=Re.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),lt=ct[0],ft=ct[1],ht=ct[2],pt=ft&&ft.then,dt=lt&&lt.constructor,gt=ct[3],mt=!!ht,vt=!1,yt=ht?function(){ht.then(Y)}:Re.setImmediate?n.bind(null,Y):Re.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Y(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Y,0)},bt=function(e,t){kt.push([e,t]),Tt&&(yt(),Tt=!1)},At=!0,Tt=!0,wt=[],qt=[],_t=null,Ut=C,jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:be,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{be(e[0],e[1])}catch(e){}})}},Pt=jt,kt=[],xt=0,St=[],Ot={get:function(){function e(e,r){var i=this,s=!t.global&&(t!==Pt||n!==Mt);s&&ce();var o=new G(function(n,o){W(i,new H(ve(e,t,s),ve(r,t,s),n,o,t))});return We&&X(o,this),o}var t=Pt,n=Mt;return e.prototype=ot,e},set:function(e){o(this,"then",e&&e.prototype===ot?Ot:{get:function(){return e},set:Ot.set})}};s(G.prototype,{then:Ot,_then:function(e,t){W(this,new H(null,null,e,t,Pt))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,function(e){return e instanceof t?n(e):se(e)}):this.then(null,function(e){return e&&e.name===t?n(e):se(e)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),se(t)})},stack:{get:function(){if(this._stack)return this._stack;try{vt=!0;var e=$(this,[],20),t=e.join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{vt=!1}}},timeout:function(e,t){var n=this;return e<1/0?new G(function(r,i){var s=setTimeout(function(){return i(new rt.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,s))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&o(G.prototype,Symbol.toStringTag,"Promise"),jt.env=de(),s(G,{all:function(){var e=_.apply(null,arguments).map(le);return new G(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(function(i,s){return G.resolve(i).then(function(n){e[s]=n,--r||t(e)},n)})})},resolve:function(e){if(e instanceof G)return e;if(e&&"function"==typeof e.then)return new G(function(t,n){e.then(t,n)});var t=new G(ot,!0,e);return X(t,_t),t},reject:se,race:function(){var e=_.apply(null,arguments).map(le);return new G(function(t,n){e.map(function(e){return G.resolve(e).then(t,n)})})},PSD:{get:function(){return Pt},set:function(e){return Pt=e}},newPSD:ue,usePSD:ge,scheduler:{get:function(){return bt},set:function(e){bt=e}},rejectionMapper:{get:function(){return Ut},set:function(e){Ut=e}},follow:function(e,t){return new G(function(n,r){return ue(function(t,n){var r=Pt;r.unhandleds=[],r.onunhandled=n,r.finalize=R(function(){var e=this;ne(function(){0===e.unhandleds.length?t():n(e.unhandleds[0])})},r.finalize),e()},t,n,r)})}});var It={awaits:0,echoes:0,id:0},Et=0,Dt=[],Ct=0,Mt=0,Rt=0,Bt="unhandledrejection";f(function(){bt=function(e,t){setTimeout(function(){e.apply(null,t)},0)}});var Ft,Kt=G.reject,Nt="{version}",Lt=String.fromCharCode(65535),Gt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return Lt}}(),Ht=-1/0,Vt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",zt="String expected.",Qt=[],Wt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Jt=Wt,$t=Wt,Xt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};U(We,Xt);var Yt=function(){},Zt=!1;s(Te,st),s(Te,{delete:function(e){var t=new Te(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new Te(e).open().then(function(e){return e.close(),!0}).catch(Te.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(e){var t=Ee(Te.dependencies.indexedDB);return t?new G(function(e,n){var r=t();r.onsuccess=function(t){e(c(t.target.result,0))},r.onerror=Ue(n)}).then(e):Ft.dbnames.toCollection().primaryKeys(e)},defineClass:function(e){function t(t){t?r(this,t):Zt&&qe(this,e)}return t},applyStructure:qe,ignoreTransaction:function(e){return Pt.trans?ge(Pt.transless,e):e()},vip:function(e){return ue(function(){return Pt.letThrough=!0,e()})},async:function(e){return function(){try{var t=xe(e.apply(this,arguments));return t&&"function"==typeof t.then?t:G.resolve(t)}catch(e){return Kt(e)}}},spawn:function(e,t,n){try{var r=xe(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:G.resolve(r)}catch(e){return Kt(e)}},currentTransaction:{get:function(){return Pt.trans||null}},waitFor:function(e,t){var n=G.resolve("function"==typeof e?Te.ignoreTransaction(e):e).timeout(t||6e4);return Pt.trans?Pt.trans.waitFor(n):n},Promise:G,debug:{get:function(){return We},set:function(e){U(e,"dexie"===e?function(){return!0}:Xt)}},derive:u,extend:r,props:s,override:l,Events:Ae,getByKeyPath:v,setByKeyPath:y,delByKeyPath:b,shallowClone:A,deepClone:w,getObjectDiff:q,asap:p,maxKey:Gt,minKey:Ht,addons:[],connections:Qt,MultiModifyError:rt.Modify,errnames:tt,IndexSpec:Se,TableSchema:Oe,dependencies:{indexedDB:Re.indexedDB||Re.mozIndexedDB||Re.webkitIndexedDB||Re.msIndexedDB,IDBKeyRange:Re.IDBKeyRange||Re.webkitIDBKeyRange},semVer:Nt,version:Nt.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)}),fakeAutoComplete:Yt,default:Te,Dexie:Te}),G.rejectionMapper=E,f(function(){Te.fakeAutoComplete=Yt=f,Te.fake=Zt=!0}),Ft=new Te("__dbnames"),Ft.version(1).stores({dbnames:"name"}),function(){if(void 0!==("undefined"==typeof localStorage?"undefined":De(localStorage))&&void 0!==Re.document)try{JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(e){return Ft.dbnames.put({name:e}).catch(D)}),localStorage.removeItem("Dexie.DatabaseNames")}catch(e){}}(),t.default=Te}).call(t,n(2),n(11).setImmediate)},function(e,t,n){"use strict";function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(12),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";(function(e,t){!function(e,n){function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[a]=r,u(a),a++}function i(e){delete c[e]}function s(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function o(e){if(l)setTimeout(o,0,e);else{var t=c[e];if(t){l=!0;try{s(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var u,a=1,c={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){u=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),u=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},u=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;u=function(t){var n=f.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){u=function(e){setTimeout(o,0,e)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,n(2),n(13))},function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function u(){m&&d&&(m=!1,d.length?g=d.concat(g):v=-1,g.length&&a())}function a(){if(!m){var e=s(u);m=!0;for(var t=g.length;t;){for(d=g,g=[];++v<t;)d&&d[v].run();v=-1,t=g.length}d=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,h,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var d,g=[],m=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||m||s(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.detectAllClashes=function(t){return e.request.post(e.getApiTeamUrl()+"services/postprocess",t)},this.detectDisciplinesClashes=function(t){return e.request.post(e.getApiTeamUrl()+"clashdetection",t)},this.getFilters=function(t){return t?e.request.get(e.getApiTeamUrl()+"clashdetection/filters/"+t):e.request.get(e.getApiTeamUrl()+"clashdetection/filters")},this.calculateClashes=function(t){return e.request.post(e.getApiTeamUrl()+"clashdetection/filters",t)},this.getFilterResults=function(t,n){return e.request.get(e.getApiTeamUrl()+"clashdetection/projects/"+t+"/filters/"+n)}};t.ClashDetection=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiTeamUrl()+"comments/"+t)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"comments/"+t)},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"comments/"+t,n)}};t.Comments=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t,n,r){var i=e.getApiTeamUrl()+"objects/"+t+"/customtables";n&&(i+="?variantId="+n);var s={};return r&&(s.queryParams={revision:r}),e.request.get(i,r?s:void 0)},this.post=function(t,n){return e.request.post(e.getApiTeamUrl()+"objects/"+t+"/customtables",n)}};t.CustomTables=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return t?e.request.get(e.getApiTeamUrl()+"element-types/"+t):e.request.get(e.getApiTeamUrl()+"element-types")},this.getDisciplines=function(t){return t?e.request.get(e.getApiTeamUrl()+"element-types/disciplines/"+t):e.request.get(e.getApiTeamUrl()+"element-types/disciplines")},this.getAttributeTemplates=function(t,n){return t?e.request.get(e.getApiTeamUrl()+"element-types/"+t+"/attributetemplates",n?{queryParams:n}:void 0):e.request.get(e.getApiTeamUrl()+"element-types/attributetemplates",n?{queryParams:n}:void 0)},this.getTopology=function(){return e.request.get(e.getApiTeamUrl()+"element-types/topology")},this.getProjectTopology=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/element-types")}};t.ElementTypes=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.exportObjects=function(t,n){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/objects/export/excel?typeId="+n)},this.exportModel=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/model/"+n+"/exportasync",null,{contentType:!1,processData:!1,dataType:null})}};t.ExportService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=function(t){return t?e.getApiUrl()+"content/freeattributegroups/":e.getApiTeamUrl()+"freeattributegroups/"};this.post=function(n,r){return e.request.post(t(r),n)},this.get=function(n,r){return n?e.request.get(t(r)+n):e.request.get(t(r))},this.put=function(n,r,i){return e.request.put(t(i)+n,r)},this.delete=function(n,r){return e.request.del(t(r)+n)},this.getFreeAttributes=function(n,r){return e.request.get(t(r)+n+"/freeattributes")}};t.FreeAttributeGroups=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=function(t){return t?e.getApiUrl()+"content/freeattributes/":e.getApiTeamUrl()+"freeattributes/"};this.post=function(n,r){return e.request.post(t(r),n)},this.get=function(n,r,i){return n?e.request.get(t(r)+n,i?{queryParams:i}:void 0):e.request.get(t(r),i?{queryParams:i}:void 0)},this.put=function(n,r,i){return e.request.put(t(i)+n,r)},this.delete=function(n,r){return e.request.del(t(r)+n)},this.getTopology=function(n){return e.request.get(t(n)+"?topology=true")},this.getFilteredAttributes=function(t,n,r){var i=e.getApiTeamUrl();return t&&(i+="projects/"+t+"/"),i+="attributes?",n&&(i+="layer="+n+"&"),r&&(i+="type="+r),e.request.get(i)}};t.FreeAttributes=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.calculate=function(t,n,r,i){var s={hiddenCalculation:{projectId:t,calculationMode:"View",view:n,clippRegion:{clipFace:!1},light:{useLight:!0,elevationAngle:45,sideAngle:60,useShadows:!1},propertySettings:{faceMode:"Filling",calcLines:!0},responseSettings:{mode:"Svg",svgHeight:390,svgWidth:500,fileName:r},sectionSettings:{}},runAsync:i};return e.request.post(e.getApiTeamUrl()+"services/Hiddencalculation",JSON.stringify(s))}};t.HiddenCalculation=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiTeamUrl()+"hyperlinks/"+t)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"hyperlinks/"+t)},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"hyperlinks/"+t,n)}};t.Hyperlinks=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.postModel=function(t,n,r,i){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/model/"+n+"/importasync",r,{preparedData:r,contentType:!1,processData:!1,dataType:null,xhrUploadProgress:i})},this.postModelLandXML=function(t,n,r,i){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/model/"+n+"/landxmlasync",r,{preparedData:r,contentType:!1,processData:!1,dataType:null,xhrUploadProgress:i})}};t.ImportService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/issues",n)},this.get=function(t){return e.request.get(e.getApiTeamUrl()+"issues/"+t)},this.postPin=function(t,n){return e.request.post(e.getApiTeamUrl()+"issues/"+t+"/pins",n)},this.getPins=function(t){return e.request.get(e.getApiTeamUrl()+"issues/"+t+"/pins")},this.deletePins=function(t){return e.request.del(e.getApiTeamUrl()+"issues/"+t+"/pins")},this.postComment=function(t,n){return e.request.post(e.getApiTeamUrl()+"issues/"+t+"/comments",n)},this.getComments=function(t){return e.request.get(e.getApiTeamUrl()+"issues/"+t+"/comments")},this.deleteComments=function(t){return e.request.del(e.getApiTeamUrl()+"issues/"+t+"/comments")},this.postAttachment=function(t,n){return e.request.post(e.getApiTeamUrl()+"issues/"+t+"/attachments",n)},this.getAttachments=function(t){return e.request.get(e.getApiTeamUrl()+"issues/"+t+"/attachments")},this.deleteAttachments=function(t){return e.request.del(e.getApiTeamUrl()+"issues/"+t+"/attachments")},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"issues/"+t,n)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"issues/"+t)},this.getRights=function(t){return e.request.get(e.getApiTeamUrl()+"issues/"+t+"/rights")},this.getIssueTypes=function(){return e.request.get(e.getApiTeamUrl()+"lib/issuetypes")},this.importBcf=function(t,n){return e.request.put(e.getApiTeamUrl()+"projects/"+t+"/issues/bcf",n,{contentType:!1,processData:!1})},this.updateImportBcf=function(t,n){return e.request.put(e.getApiTeamUrl()+"projects/"+t+"/issues/bcf",n)},this.exportBcf=function(t,n,r){return t?e.request.post(e.getApiTeamUrl()+"projects/"+t+"/issues/export/bcf"+(r?"?version="+r:""),n):e.request.post(e.getApiTeamUrl()+"issues/export/bcf"+(r?"?version="+r:""),n)},this.exportExcel=function(t,n){return t?e.request.post(e.getApiTeamUrl()+"projects/"+t+"/issues/export/excel",n):e.request.post(e.getApiTeamUrl()+"issues/export/excel",n)}};t.Issues=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.lockObject=function(t,n){return e.request.put(e.getApiTeamUrl()+"objects/"+t+"/locks ",n)},this.checkLocked=function(t){return e.request.get(e.getApiTeamUrl()+"objects/"+t+"/locks ")},this.deleteLock=function(t){return e.request.del(e.getApiTeamUrl()+"objects/"+t+"/locks ")}};t.Locks=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiTeamUrl()+"members",t)},this.get=function(){return e.request.get(e.getApiTeamUrl()+"members")},this.putUser=function(t,n,r){return e.request.put(e.getApiTeamUrl()+"members/"+n,r)},this.deleteUser=function(t,n){return e.request.del(e.getApiTeamUrl()+"members/"+n)}};t.Members=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiUrl()+"messages",t)},this.getUserMessages=function(t){return e.request.get(e.getApiUrl()+"user/"+t+"/messages")},this.getUserDashboardMessages=function(t){return e.request.get(e.getApiUrl()+"user/"+t+"/messages?topic=dashboard")},this.getSentUserMessages=function(t){return e.request.get(e.getApiUrl()+"user/"+t+"/messages/sent")},this.getSentGroupMessages=function(t){return e.request.get(e.getApiUrl()+"user/"+t+"/messages/groupsent")},this.get=function(t){return e.request.get(e.getApiUrl()+"messages/"+t)},this.getFiltered=function(t){return e.request.get(e.getApiUrl()+"messages/",{queryParams:{filter:t}})},this.deleteMessage=function(t){return e.request.del(e.getApiUrl()+"messages/"+t)},this.markAsRead=function(t){return e.request.post(e.getApiUrl()+"messages/"+t+"/markasreadbrowser",null,{dataType:null,contentType:null})},this.updateDashboardAdditionalData=function(t,n){return e.request.put(e.getApiUrl()+"messages/"+t+"/updatedashboardadditionaldata",n)},this.addDashboardMessageAttachment=function(t,n,r){return e.request.put(e.getApiUrl()+"messages/"+t+"/upload?type=dashboard",n,r)},this.getAllMessagingGroups=function(){return e.request.get(e.getApiUrl()+"systemgroups")},this.getMessagingGroupsDetails=function(t){return e.request.get(e.getApiUrl()+"systemgroups/"+t)}};t.Messages=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return t?e.request.get(e.getApiTeamUrl()+"divisions/"+t):e.request.get(e.getApiTeamUrl()+"divisions")},this.head=function(t){return e.request.head?e.request.head(e.getApiTeamUrl()+"divisions/"+t):new Promise(function(e){e(!1)})},this.getDisciplines=function(t){return e.request.get(e.getApiTeamUrl()+"divisions/"+t+"/disciplines")},this.getRevisions=function(t){return e.request.get(e.getApiTeamUrl()+"divisions/"+t+"/revisions")},this.postRevision=function(t,n){return e.request.post(e.getApiTeamUrl()+"divisions/"+t+"/revisions",n)},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"divisions/"+t,n)},this.download=function(t){return e.request.get(e.getApiTeamUrl()+"divisions/"+t+"/download")},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"divisions/"+t)},this.move=function(t,n){return e.request.put(e.getApiTeamUrl()+"divisions/"+t+"/move",n)}};t.Models=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["topology","structure"],i=function(e){this.get=function(t,n){var r={};return t&&(r.object_id=t),n&&(r.project_Id=n),e.request.get(e.getApiTeamUrl()+"settings/filters",{queryParams:r})},this.getFilteredObjects=function(t,n,i,s){if(i)return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/filters/"+n+"/properties",{queryParams:i});if(s&&r.find(function(e){return e===s})){var o={};return o[s]=!0,e.request.get(e.getApiTeamUrl()+"projects/"+t+"/filters/"+n,{queryParams:o})}return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/filters/"+n)},this.applyFilter=function(t){return e.request.get(e.getApiTeamUrl()+"filters/"+t)},this.post=function(t){return e.request.post(e.getApiTeamUrl()+"settings/filter",t)},this.put=function(t){return e.request.put(e.getApiTeamUrl()+"settings/filter",t)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"settings/filter/"+t)}};t.ObjectFilters=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiTeamUrl()+"objects/",t)},this.get=function(t,n,r,i,s){var o={};n&&(o.queryParams={revision:n}),i&&(o.queryParams?o.queryParams.projectId=i:o.queryParams={projectId:i}),s&&(o.queryParams?o.queryParams.shortinfo=s:o.queryParams={shortinfo:s});var u=e.getApiTeamUrl()+"objects/"+t;return r&&(u+="/properties/",u+=r),e.request.get(u,n||i||s?o:void 0)},this.getInternal=function(t,n){var r={};n&&(r.queryParams={revision:n});var i=e.getApiTeamUrl()+"objects/"+t;return i+="/internal",e.request.get(i,n?r:void 0)},this.head=function(t,n){var r={};return n&&(r.queryParams={revision:n}),e.request.head?e.request.head(e.getApiTeamUrl()+"objects/"+t,n?r:void 0):e.request.get(e.getApiTeamUrl()+"objects/"+t,n?r:void 0)},this.getTopology=function(t,n,r){var i={};return(n||r)&&(i.queryParams={},n&&(i.queryParams.revision=n),r&&(i.queryParams.hideElements=r)),e.request.get(e.getApiTeamUrl()+"objects/"+t+"/topology",i.queryParams?i:void 0)},this.getGeometryThreeJS=function(t,n,r,i,s,o){var u={};null===i&&null===s||(u.queryParams={},null!==i&&(u.queryParams.revision=i),null!==s&&(u.queryParams.levelofdetail=s));var a;return a=n?e.getApiTeamUrl()+"objects/"+t+"/disciplines/"+n+"/geometries/threejs":e.getApiTeamUrl()+"objects/"+t+"/geometries/threejs",o&&(a+="/properties/",a+=o),r?e.request.getChunked(a,u.queryParams?u:void 0):e.request.get(a,u.queryParams?u:void 0)},this.getGeometryTemplatesThreeJS=function(t,n,r,i,s){var o={};null===i&&null===s||(o.queryParams={},null!==i&&(o.queryParams.revision=i),null!==s&&(o.queryParams.levelofdetail=s));var u=e.getApiTeamUrl()+"objects/"+t+"/disciplines/"+n+"/templates/threejs";return r?e.request.getChunked(u,o.queryParams?o:void 0):e.request.get(u,o.queryParams?o:void 0)},this.getGeometryCompressed=function(t,n){return n?e.request.get(e.getApiTeamUrl()+"objects/"+t+"/disciplines/"+n+"/geometries/meshblob"):e.request.get(e.getApiTeamUrl()+"objects/"+t+"/geometries/meshblob")},this.getProperties=function(t,n){return e.request.get(e.getApiTeamUrl()+"objects/"+t+"/geometries/threejs/properties"+n)},this.put=function(t,n,r){var i={};return r&&(i.projectid=r),e.request.put(e.getApiTeamUrl()+"objects/"+t,n,{queryParams:i})},this.postComment=function(t,n){return e.request.post(e.getApiTeamUrl()+"objects/"+t+"/comments",n)},this.getComments=function(t){return e.request.get(e.getApiTeamUrl()+"objects/"+t+"/comments")},this.deleteComments=function(t){return e.request.del(e.getApiTeamUrl()+"objects/"+t+"/comments")},this.postAttachment=function(t,n,r){return e.request.post(e.getApiTeamUrl()+"objects/"+t+"/attachments",n,{contentType:!1,processData:!1,dataType:null,xhrUploadProgress:r})},this.getAttachments=function(t,n){return e.request.get(e.getApiTeamUrl()+"objects/"+t+"/attachments",n?{queryParams:{revision:n}}:void 0)},this.deleteAttachments=function(t){return e.request.del(e.getApiTeamUrl()+"objects/"+t+"/attachments")},this.postHyperlink=function(t,n){return e.request.post(e.getApiTeamUrl()+"objects/"+t+"/hyperlinks",n)},this.getHyperlinks=function(t){return e.request.get(e.getApiTeamUrl()+"objects/"+t+"/hyperlinks")},this.deleteHyperlinks=function(t){return e.request.del(e.getApiTeamUrl()+"objects/"+t+"/hyperlinks")},this.delete=function(){return e.request.del(e.getApiTeamUrl()+"objects/")},this.getAttributes=function(t,n,r){var i=n?"&documentversion="+n:"",s=r?"&projectid="+r:"",o=e.getApiTeamUrl()+"objects/"+t+"?freeattributes=true";return e.request.get(o+i+s)},this.getAttributeValues=function(t,n){return e.request.get(e.getApiTeamUrl()+"/objects/"+t+"/attributes/"+n+"?children=true")},this.getComplexPropertiesTopology=function(t,n){return e.request.get(e.getApiTeamUrl()+"/objects/"+t+"/complexproperties"+(n>=0?"?revision="+n:""))},this.postThumbnail=function(t,n,r){return e.request.post(e.getApiTeamUrl()+"objects/"+t+"/thumbnail",n,{contentType:!1,processData:!1,dataType:null,xhrUploadProgress:r})}};t.Objects=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiTeamUrl()+"pins/"+t)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"pins/"+t)},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"pins/"+t,n)}};t.Pins=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(){return e.request.get(e.getApiUrl()+"project-actions-rights/")}};t.ProjectActionsRights=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(){return e.request.get(e.getApiUrl()+"group-actions-rights/")}};t.GroupActionsRights=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiTeamUrl()+"projectattributetemplates",t)},this.get=function(t){return t?e.request.get(e.getApiTeamUrl()+"projectattributetemplates/"+t):e.request.get(e.getApiTeamUrl()+"projectattributetemplates")},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"projectattributetemplates/"+t,n)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"projectattributetemplates/"+t)},this.copyFrom=function(t,n){return e.request.put(e.getApiTeamUrl()+"projectattributetemplates/"+n+"/copyfrom",JSON.stringify({id:t}))}};t.ProjectAttributeTemplates=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiTeamUrl()+"projects",t)},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"projects/"+t,n)},this.get=function(t,n){if(t){var r={queryParams:{disciplines:!1}};return e.request.get(e.getApiTeamUrl()+"projects/"+t,n?r:void 0)}return e.request.get(e.getApiTeamUrl()+"projects")},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"projects/"+t)},this.getModels=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/divisions")},this.getModelTypes=function(){return e.request.get(e.getApiTeamUrl()+"modeltypes")},this.getFreeAttrModelTypes=function(){return e.request.get(e.getApiTeamUrl()+"freeattributes/cd689fbe-65f4-4b6e-96c5-ff2d0831a547")},this.postModel=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/divisions",n)},this.getMembers=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/members")},this.postMember=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/members",n)},this.putMember=function(t,n){return e.request.put(e.getApiTeamUrl()+"projects/"+t+"/members",n)},this.deleteMember=function(t,n){return e.request.del(e.getApiTeamUrl()+"projects/"+t+"/members",n)},this.getPins=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/pins")},this.putProject=function(t,n){return e.request.put(e.getApiTeamUrl()+"projects/"+t,n)},this.postAttachment=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/attachments",n)},this.getAttachments=function(t,n,r){var i=r;return i||(i={}),n&&(i.revision=n),e.request.get(e.getApiTeamUrl()+"projects/"+t+"/attachments",n||r?{queryParams:i}:void 0)},this.deleteAttachments=function(t){return e.request.del(e.getApiTeamUrl()+"projects/"+t+"/attachments")},this.getTopology=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/topology")},this.getSpots=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/pins")},this.postThumbnail=function(t,n,r){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/thumbnail",n,{contentType:!1,processData:!1,dataType:null,xhrUploadProgress:r})},this.getThumbnail=function(t){return e.request.get(e.getApiTeamUrl()+"thumbnail/"+t)},this.getComments=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/comments")},this.getHyperlinks=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/hyperlinks")},this.getIssues=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/issues")},this.postSlideshow=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/slideshows",n)},this.getSlideshows=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/slideshows")},this.deleteSlideshows=function(t){return e.request.del(e.getApiTeamUrl()+"projects/"+t+"/slideshows")},this.getProjectInfo=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t)}};t.Projects=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.postRevision=function(t,n){return this.request.post(e.getApiTeamUrl()+"divisions/"+t+"/revisions",n)},this.getRevisionList=function(t){return e.request.get(e.getApiTeamUrl()+"divisions/"+t+"/revisions")},this.getRevisionInfo=function(t){return e.request.get(e.getApiTeamUrl()+"revisions/"+t)},this.putRevisionInfo=function(t,n){return e.request.put(e.getApiTeamUrl()+"revisions/"+t,n)},this.getRevisionsComparisonResult=function(t,n,r,i){return e.request.get(e.getApiTeamUrl()+"divisions/"+t+"/revisionscomparison/"+n+"/"+r,i)},this.compareRevisions=function(t,n,r,i){return e.request.post(e.getApiTeamUrl()+"divisions/"+t+"/revisionscomparison/"+n+"/"+r,null,i)}};t.Revisions=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.getRoles=function(t){return t?e.request.get(e.getApiTeamUrl()+"projects/"+t+"/members"):e.request.get(e.getApiTeamUrl()+"roles")},this.postUserRole=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/members",n)},this.putUserRole=function(t,n){return e.request.put(e.getApiTeamUrl()+"projects/"+t+"/members",n)},this.deleteUser=function(t){return e.request.del(e.getApiTeamUrl()+"projects/"+t+"/members")}};t.RightsService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t,n){if(t||n){var r={queryParams:{}};return void 0!==t&&(r.queryParams.rights=t),void 0!==n&&(r.queryParams.customrole=n),e.request.get(e.getApiTeamUrl()+"roles/",r)}return e.request.get(e.getApiTeamUrl()+"roles/")},this.getAllRights=function(t){if(t){var n={queryParams:{globalfreeattributes:t.globalfreeattributes,global:t.global,project:t.project,document:t.document,layer:t.layer}};return e.request.get(e.getApiTeamUrl()+"rights",n)}return e.request.get(e.getApiTeamUrl()+"rights")},this.post=function(t){return e.request.post(e.getApiTeamUrl()+"roles/",t)},this.getRoleDetails=function(t){return e.request.get(e.getApiTeamUrl()+"roles/"+t)},this.updateRole=function(t,n){return e.request.put(e.getApiTeamUrl()+"roles/"+t,n)},this.deleteRole=function(t){return e.request.del(e.getApiTeamUrl()+"roles/"+t)}};t.Roles=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiTeamUrl()+"share",t)}};t.Share=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiTeamUrl()+"slides/"+t)},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"slides/"+t,n)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"slides/"+t)},this.postThumbnail=function(t,n){return e.request.post(e.getApiTeamUrl()+"slides/"+t+"/thumbnail",n)}};t.Slides=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiTeamUrl()+"slideshows/"+t)},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"slideshows/"+t,n)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"slideshows/"+t)},this.postSlide=function(t,n){return e.request.post(e.getApiTeamUrl()+"slideshows/"+t+"/slides",n)},this.getSlides=function(t){return e.request.get(e.getApiTeamUrl()+"slideshows/"+t+"/slides")},this.postThumbnail=function(t,n){return e.request.post(e.getApiTeamUrl()+"slideshows/"+t+"/thumbnail",n)},this.getThumbnail=function(t){return e.request.get(e.getApiTeamUrl()+"thumbnail/"+t)}};t.Slideshows=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.postStructure=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/structures",n)},this.postStructureTopology=function(t,n){return e.request.post(e.getApiTeamUrl()+"structures/"+t+"/topology",n)},this.postSubNode=function(t,n){return e.request.post(e.getApiTeamUrl()+"structures/"+t,n)},this.postAssignedObject=function(t,n,r,i){return e.request.post(e.getApiTeamUrl()+"structures/"+t+"/assign/"+n+"?varianttype="+r,i)},this.attributeAssign=function(t,n,r,i){var s={attributeId:r};return i&&(s.variantType=i),e.request.put(e.getApiTeamUrl()+"projects/"+t+"/structures/"+n+"/attributeassign",JSON.stringify(s))},this.deleteAssignedObject=function(t,n,r){return e.request.del(e.getApiTeamUrl()+"structures/"+t+"/delete/"+n+"?varianttype="+r)},this.getStructure=function(t,n,r){return n?e.request.get(e.getApiTeamUrl()+"structures/"+n):e.request.get(e.getApiTeamUrl()+"projects/"+t+"/structures"+(r?"?type="+r:""))},this.getTopology=function(t,n,r){if(t){if(void 0===r||""===r)return e.request.get(e.getApiTeamUrl()+"structures/"+t+"/topology?varianttype="+n);if(!0===r)return e.request.get(e.getApiTeamUrl()+"structures/"+t+"/topology?varianttype="+n+"&attributes=true")}},this.getTopologyStructure=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/topologystructure")},this.resetTopologyStructure=function(t){return e.request.put(e.getApiTeamUrl()+"projects/"+t+"/topologystructure/reset")},this.copyStructure=function(t,n,r){return e.request.post(e.getApiTeamUrl()+"structures/"+t+"/copy?elementRelation="+r+"&attributes=true",n)},this.putStructure=function(t,n){return e.request.put(e.getApiTeamUrl()+"structures/"+t,n)},this.reorderStructure=function(t,n){return e.request.put(e.getApiTeamUrl()+"structures/"+t+"/reorder?varianttype="+n)},this.deleteStructure=function(t){return e.request.del(e.getApiTeamUrl()+"structures/"+t)},this.deleteAllProjectStructures=function(t){return this.request.del(e.getApiTeamUrl()+"projects/"+t+"/structures")},this.postVariantType=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/variants",n)},this.getVariantType=function(t,n){return n?e.request.get(e.getApiTeamUrl()+"projects/"+t+"/variants/"+n):e.request.get(e.getApiTeamUrl()+"projects/"+t+"/variants")},this.deleteVariantType=function(t,n){return e.request.del(e.getApiTeamUrl()+"projects/"+t+"/variants/"+n)},this.copyElementsToVariant=function(t,n,r){return e.request.put(e.getApiTeamUrl()+"projects/"+t+"/variants/"+n+"/copyfrom",r)}};t.Structures=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(){return e.request.get(e.getApiUrl()+"team-actions-rights/")}};t.TeamActionsRights=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return t?e.request.get(e.getApiUrl()+"teams/"+t):e.request.get(e.getApiUrl()+"teams")},this.postTeam=function(t){return e.request.post(e.getApiUrl()+"teams",t)},this.putTeam=function(t,n){return e.request.put(e.getApiUrl()+"teams/"+t,n)},this.deleteTeam=function(t){return e.request.del(e.getApiUrl()+"teams/"+t)},this.getAccountSettings=function(t){return e.request.get(e.getApiUrl()+"administration/teams/"+t+"/accountsettings")},this.getRestrictions=function(t){return e.request.get(e.getApiUrl()+"teams/"+t+"/restrictions")}};t.Teams=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiUrl()+"terms/download",{queryParams:{language:t},dataType:"html"})}};t.Terms=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiUrl()+"dataprotectiondeclarations/download",{queryParams:{language:t},dataType:"html"})}};t.DataProtection=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiUrl()+"imprints/download",{queryParams:{language:t},dataType:"html"})}};t.Imprints=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiUrl()+"content/units/",t)},this.get=function(t){return t?e.request.get(e.getApiUrl()+"content/units/"+t):e.request.get(e.getApiUrl()+"content/units/")},this.put=function(t,n){return e.request.put(e.getApiUrl()+"content/units/"+t,n)},this.delete=function(t){return e.request.del(e.getApiUrl()+"content/units/"+t)}};t.Units=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return t?e.request.get(e.getApiUrl()+"user",{token:t}):e.request.get(e.getApiUrl()+"user")},this.put=function(t,n,r){var i=e.getApiUrl()+"user/";return t&&(i+=t),r?e.request.put(i,n,{token:r}):e.request.put(i,n)},this.post=function(t){return e.request.post(e.getApiUrl()+"user",t)},this.postPhoto=function(t){return e.request.post(e.getApiUrl()+"user/photo",t,{contentType:!1,processData:!1})},this.getPhoto=function(){return e.request.get(e.getApiUrl()+"user/photo")},this.putPassword=function(t){return e.request.put(e.getApiUrl()+"user/change_password",t)},this.getSubscriptions=function(t){return t?e.request.get(e.getApiUrl()+"user/accountsettings/"+t):e.request.get(e.getApiUrl()+"user/accountsettings")}};t.User=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t){return e.request.post(e.getApiUrl()+"users",t)},this.exist=function(t){return e.request.get(e.getApiUrl()+"users/exist",{queryParams:{email:t}})},this.put=function(t,n){return e.request.put(e.getApiUrl()+"users/"+t,n)},this.delete=function(t){return e.request.del(e.getApiUrl()+"users/"+t)},this.setSubscriptions=function(t,n){return e.request.post(e.getApiUrl()+"administration/users/"+t+"/accountsettings",n)}};t.Users=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.postSettings=function(t,n){return e.request.post(e.getApiTeamUrl()+"userSettings/"+t,n)},this.getSettings=function(t){return e.request.get(e.getApiTeamUrl()+"userSettings/"+t)}};t.UserSettings=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.get=function(t){return e.request.get(e.getApiTeamUrl()+"invitations/"+(t||""))},this.getProjectInvitations=function(t){return e.request.get(e.getApiTeamUrl()+"invitations?projectId="+t)},this.post=function(t){return e.request.post(e.getApiTeamUrl()+"invitations/",t)},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"invitations/"+t)},this.put=function(t,n){return e.request.put(e.getApiTeamUrl()+"invitations/"+t,n)},this.accept=function(t,n){return e.request.put(e.getApiUrl()+"invitations/"+t+"/accept",n)},this.getInvitation=function(t,n){return e.request.get(e.getApiUrl()+"invitations/"+t,n)}};t.Invitations=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.post=function(t,n){if(t)return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/selections",n)},this.get=function(t){if(t)return e.request.get(e.getApiTeamUrl()+"selections/"+t)},this.getAllSelections=function(t){if(t)return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/selections")},this.delete=function(t){return e.request.del(e.getApiTeamUrl()+"selections/"+t)}};t.Selections=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.postGroup=function(t,n){return e.request.post(e.getApiTeamUrl()+"projects/"+t+"/usergroups",n)},this.getGroups=function(t){return e.request.get(e.getApiTeamUrl()+"projects/"+t+"/usergroups")},this.getUsers=function(t){return e.request.get(e.getApiTeamUrl()+"usergroups/"+t)},this.deleteGroup=function(t){return e.request.del(e.getApiTeamUrl()+"usergroups/"+t)},this.putGroup=function(t,n){return e.request.put(e.getApiTeamUrl()+"usergroups/"+t,n)},this.assignUser=function(t,n){return e.request.put(e.getApiTeamUrl()+"usergroups/"+t+"/assign",n)}};t.UserGroups=r}])});